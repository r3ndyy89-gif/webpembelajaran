<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMKN 4 GARUT - Profil Sekolah</title>
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="Profil SMKN 4 Garut, fasilitas, program, absensi, kontak, dan materi pembelajaran.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #133d12;
        }

        :root {
            /* Palet hijau global */
            --primary: #2ea45a; /* utama */
            --primary-dark: #1f8f3f;
            --accent: #3bc96b;
            --muted-text: #133d12;
        }

        /* Header & Navigation */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            gap: 1rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        /* Highlight kotak untuk link aktif */
        .nav-links .nav-active {
            box-shadow: 0 0 0 2px #fff, 0 2px 10px rgba(46,164,90,0.15);
            background: rgba(255,255,255,0.18);
            border-radius: 8px;
            font-weight: bold;
            padding: 0.4rem 1rem;
        }

        /* area auth (username / masuk / daftar) */
        .auth-area {
            color: white;
            display: flex;
            gap: 1rem;
            align-items: center;
            font-size: 0.95rem;
        }

        .auth-btn {
            background: rgba(255,255,255,0.15);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            border: none;
        }

        .auth-btn:hover { opacity: 0.9; }


        /* Page Container */
        .page {
            /* variables you can override per page: --page-bg (image/color), --overlay-color */
            --page-bg: transparent;
            --overlay-color: rgba(0,0,0,0.25);

            display: none;
            min-height: 100vh;
            padding-top: 80px;
            position: relative;
            /* use variable for background so each page can set its own */
            background: var(--page-bg);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* overlay agar teks tetap terbaca saat background gambar terang
           override per-page with: style="--overlay-color: rgba(...);" or set to transparent */
        .page::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--overlay-color);
            z-index: 0;
            pointer-events: none;
            opacity: 1;
        }

        .page .container,
        .page .hero-content,
        .page .hero,
        .page .page-header,
        .page * {
            position: relative;
            z-index: 2;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Hero Section dengan Background Customizable */
        .hero {
            color: white;
            padding: 100px 2rem;
            text-align: center;
            min-height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* overlay khusus hero - customizable via --hero-overlay */
        .hero {
            /* allow hero-specific overlay override */
            --hero-overlay: linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.45));
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--hero-overlay);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.2s;
            animation-fill-mode: both;
        }

        .cta-button {
            background: white;
            color: var(--primary);
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            animation: fadeInUp 1s ease 0.4s;
            animation-fill-mode: both;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(46,164,90,0.95), rgba(31,143,63,0.95));
            color: white;
            border-radius: 20px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        /* Contoh kelas halaman pra-buat ‚Äî sesuaikan atau override dengan inline styles */
        .page.home {
            --page-bg: linear-gradient(180deg, rgba(46,164,90,0.6), rgba(31,143,63,0.6));
            color: white;
            --material-bg: rgba(0,0,0,0.45);
            --material-color: #ffffff;
        }

        .page.home .hero {
            background-image: url('https://picsum.photos/1600/900?blur=3');
            background-size: cover;
            background-position: center;
        }

        .page.about {
            --page-bg: url('https://picsum.photos/1200/800?nature');
            --overlay-color: rgba(255,255,255,0.08);
            --material-bg: rgba(255,255,255,0.86);
            --material-color: #222222;
        }

        .page.contact {
            --page-bg: linear-gradient(135deg,#3bc96b 0%, #1f8f3f 100%);
            --overlay-color: rgba(0,0,0,0.25);
            color: white;
            --material-bg: rgba(0,0,0,0.42);
            --material-color: #ffffff;
        }

        .page.transparent {
            --page-bg: transparent;
            --overlay-color: transparent;
            --material-bg: transparent;
            --material-color: inherit;
        }

        /* Materi page styles */
        .materials {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        .materials-list {
            list-style: none;
            padding: 0;
            display: grid;
            gap: 1rem;
        }

        .material-item {
            /* customizable per-page via --material-bg and --material-color */
            background: var(--material-bg, rgba(255,255,255,0.95));
            color: var(--material-color, #333);
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.06);
            /* subtle glass effect when using semi-transparent backgrounds */
            backdrop-filter: blur(6px);
            -webkit-backdrop-filter: blur(6px);
        }

        .material-item h3 { margin-bottom: 0.5rem; }
        .material-item p { margin-bottom: 0.75rem; }

        /* Responsive video wrapper 16:9 */
        .video-wrap {
            position: relative;
            width: 100%;
            max-width: 640px;
            aspect-ratio: 16/9;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }

        .video-wrap iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Thumbnail style for modal-triggered media */
        .media-thumb {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            background-size: cover;
            background-position: center;
            border-radius: 10px;
            cursor: pointer;
            overflow: hidden;
        }

        .media-thumb .play-btn {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.6);
            color: white;
            border: none;
            width: 72px;
            height: 72px;
            border-radius: 50%;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* Modal for media playback */
        #mediaModal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.65);
            z-index: 2000;
            padding: 2rem;
        }

        #mediaModal.active { display: flex; }

        #mediaModal .modal-content {
            width: 100%;
            max-width: 1100px;
            background: transparent;
            border-radius: 12px;
            position: relative;
        }

        #mediaModal .modal-close {
            position: absolute;
            right: -12px;
            top: -12px;
            background: #fff;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 6px 18px rgba(0,0,0,0.2);
            font-weight: bold;
            color: var(--primary-dark);
        }

        @media(max-width:900px) {
            .materials { grid-template-columns: 1fr; }
        }

        /* Section Styles */
        h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            color: var(--primary);
        }

        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .about-image {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            /* responsive box size: larger on desktop, compact on mobile */
            width: 100%;
            max-width: 520px;
            height: 360px;
            border-radius: 20px;
            display: block;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Ensure media-thumb inside about-image fills container */
        .about-image .media-thumb { width:100%; height:100%; padding-bottom:0; }

        @media (max-width: 900px) {
            .about-image { max-width: 100%; height: 260px; border-radius: 16px; }
        }

        .about-text h3 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .about-text p {
            margin-bottom: 1rem;
            text-align: justify;
        }

        /* Stats Section */
        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            text-align: center;
            padding: 3rem 0;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-10px);
        }

        .stat-number {
            font-size: 3rem;
            color: var(--primary);
            font-weight: bold;
        }

        .stat-label {
            color: #666;
            margin-top: 0.5rem;
        }

        /* Vision Mission */
        .vision-mission {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .vm-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .vm-card h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .vm-card ul {
            list-style-position: inside;
        }

        .vm-card li {
            margin-bottom: 0.5rem;
        }

        /* Facilities */
        .facilities-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .facility-card {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }

        .facility-card:hover {
            transform: translateY(-10px);
        }

        .facility-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            overflow: hidden;
            position: relative;
        }

        .facility-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .facility-image .overlay {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.5));
            color: #fff;
            font-weight: 700;
            font-size: 1.15rem;
            opacity: 0;
            transition: opacity 0.25s ease, transform 0.25s ease;
            transform: translateY(6px);
            text-align: center;
            padding: 0 1rem;
        }

        .facility-image:hover .overlay { opacity: 1; transform: translateY(0); }

        .facility-image img, .facility-image .overlay { border-radius: 10px; }

        .facility-icon {
            font-size: 3rem;
        }

        .facility-card h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        /* Programs */
        .programs-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .program-card {
            background: linear-gradient(135deg, #56c67a 0%, #2ea45a 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .program-card:nth-child(2) {
            background: linear-gradient(135deg, #7fe08f 0%, #3bc96b 100%);
        }

        .program-card:nth-child(3) {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); /* keep green-ish */
        }

        .program-card:nth-child(4) {
            background: linear-gradient(135deg, #60d07f 0%, #9beaa0 100%);
        }

        .program-card:nth-child(5) {
            background: linear-gradient(135deg, #44d07a 0%, #2aa45a 100%);
        }

        .program-card:nth-child(6) {
            background: linear-gradient(135deg, #a8f0c8 0%, #dffae9 100%);
            color: #133d12;
        }

        .program-card:hover {
            transform: scale(1.05);
        }

        .program-image {
            width: 100%;
            aspect-ratio: 4/3;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .program-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(44, 167, 90, 0.15);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .program-card:hover .program-image img {
            transform: scale(1.04);
            box-shadow: 0 8px 32px rgba(44, 167, 90, 0.25);
        }

        .program-card h3 {
            margin-bottom: 1rem;
        }

        /* Absensi Form */
        .absensi-form {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            transition: transform 0.3s;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
        }

        .absensi-list {
            margin-top: 3rem;
        }

        .absensi-item {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .absensi-item strong {
            color: var(--primary);
        }

        /* Profil Pembuat */
        .pembuat-card {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .pembuat-avatar {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            overflow: hidden;
        }

        .pembuat-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .pembuat-info h3 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .pembuat-info p {
            color: #666;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .social-links {
            margin-top: 2rem;
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        /* Grid for multiple creator profiles */
        .pembuat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            align-items: start;
        }

        .profile-card {
            background: white;
            padding: 1.25rem;
            border-radius: 14px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
            text-align: center;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            margin: 0 auto 1rem;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid rgba(46,164,90,0.12);
            background: #fff;
        }

        .profile-avatar img { width:100%; height:100%; object-fit:cover; display:block; }

        .profile-info h3 { color: var(--primary); margin-bottom: 0.25rem; }
        .profile-info p { color: #555; margin: 0.2rem 0; font-size: 0.95rem; }

        .social-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            transition: transform 0.3s;
        }

        .social-btn:hover {
            transform: translateY(-3px);
        }

        /* Contact */
        .contact-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            text-align: center;
        }

        .contact-card {
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .contact-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .contact-card h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        /* Auth page styles */
        #auth .auth-panel {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* Footer */
        footer {
            background: #0f2a10;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .about-content,
            .vision-mission,
            .stats,
            .facilities-grid,
            .programs-grid,
            .contact-info {
                grid-template-columns: 1fr;
            }

            .nav-links { display: none; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="logo" onclick="showPage('beranda')">
                <img src="https://logos.ruangkosong.net/wp-content/uploads/2025/07/Logo-SMK-Negeri-4-Garut_Ruang-Logo.png" alt="Logo SMKN 4 GARUT" style="height:36px; width:auto; object-fit:contain;">
                <span>SMKN 4 GARUT</span>
            </div>
            <ul class="nav-links">
                <li><a onclick="showPage('beranda')">Beranda</a></li>
                <li><a onclick="showPage('tentang')">Tentang</a></li>
                <li><a onclick="showPage('fasilitas')">Fasilitas</a></li>
                <li><a onclick="showPage('program')">Program</a></li>
                <li><a onclick="showPage('materi')">Materi</a></li>
                <li><a onclick="showPage('absensi')">Absensi</a></li>
                <li><a onclick="showPage('pembuat')">Profil Pembuat</a></li>
                <li><a onclick="showPage('kontak')">Kontak</a></li>
            </ul>

            <!-- Auth area (akan diupdate oleh JS) -->
            <div class="auth-area" id="authArea">
                <button class="auth-btn" onclick="showPage('auth')">Masuk / Daftar</button>
            </div>
        </nav>
    </header>

    <!-- Halaman Beranda --> 
    <div id="beranda" class="page home active">
        <section class="hero" id="heroSection" style="background-image: url('https://picsum.photos/1600/900?blur=3');">
            <div class="hero-content">
                <h1>Selamat Datang di SMKN 4 GARUT</h1>
                <p>Membentuk Generasi Unggul, Berakhlak Mulia, dan Berprestasi</p>
                <button class="cta-button" onclick="showPage('tentang')">
                    Kenali Kami Lebih Dekat
                </button>
            </div>
        </section>
    </div>

    <!-- Media modal for inline playback -->
    <div id="mediaModal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true">
            <button class="modal-close" aria-label="Tutup">‚úï</button>
            <div id="mediaHolder" style="width:100%; height:0; padding-bottom:56.25%; position:relative;">
                <!-- iframe akan disisipkan di sini saat dibuka -->
            </div>
        </div>
    </div>

    <!-- Halaman Tentang -->
    <div id="tentang" class="page about">
        <div class="container">
            <div class="page-header">
                <h1>Tentang Sekolah Kami</h1>
                <p>Mengenal lebih dekat SMKN 4 GARUT</p>
            </div>

            <div class="about-content">
                <div class="about-image" id="aboutImage">
                    <div class="media-thumb" data-embed="https://www.youtube.com/embed/Bnp3kEiMx3k" style="background-image:url('https://i.ytimg.com/vi/Bnp3kEiMx3k/hqdefault.jpg')" aria-label="Putar video tentang sekolah">
                        <button class="play-btn" aria-hidden="true">‚ñ∂</button>
                    </div>
                    <p style="margin-top:.5rem; color:#555; font-size:.95rem;">Jika embed tidak muncul, <a href="https://youtu.be/Bnp3kEiMx3k" target="_blank" rel="noopener">buka di YouTube</a>.</p>
                </div>
                <div class="about-text">
                    <h3>SMKN 4 GARUT - Sekolah Unggulan Berprestasi</h3>
                    <p>
                        SMKN 4 GARUT adalah lembaga pendidikan menengah kejuruan yang telah berdiri sejak tahun 1995. 
                        Dengan pengalaman lebih dari 28 tahun dalam dunia pendidikan, kami telah menghasilkan 
                        ribuan alumni yang sukses di berbagai bidang.
                    </p>
                    <p>
                        Kami berkomitmen untuk memberikan pendidikan berkualitas tinggi yang tidak hanya fokus pada 
                        akademik, tetapi juga pengembangan karakter, kreativitas, dan keterampilan abad 21 yang 
                        dibutuhkan siswa untuk menghadapi tantangan masa depan.
                    </p>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number">1200+</div>
                    <div class="stat-label">Siswa Aktif</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">75+</div>
                    <div class="stat-label">Guru Profesional</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">95%</div>
                    <div class="stat-label">Lulus PTN</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Prestasi</div>
                </div>
            </div>

            <h2>Visi & Misi</h2>
            <div class="vision-mission">
                <div class="vm-card">
                    <h3>üëÅÔ∏è Visi</h3>
                    <p>
                        Menjadi lembaga pendidikan kejuruan terkemuka yang menghasilkan generasi cerdas, berkarakter, 
                        dan siap menghadapi tantangan global dengan tetap menjunjung tinggi nilai-nilai 
                        kebangsaan dan budaya Indonesia.
                    </p>
                </div>
                <div class="vm-card">
                    <h3>üéØ Misi</h3>
                    <ul>
                        <li>Menyelenggarakan pendidikan berkualitas tinggi</li>
                        <li>Mengembangkan karakter siswa yang berakhlak mulia</li>
                        <li>Memfasilitasi pengembangan bakat dan minat siswa</li>
                        <li>Menerapkan teknologi dalam pembelajaran</li>
                        <li>Membangun kerjasama dengan berbagai pihak</li>
                    </ul>
                </div>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
            <p>Membentuk Generasi Unggul dan Berakhlak Mulia</p>
        </footer>
    </div>

    <!-- Halaman Fasilitas -->
    <div id="fasilitas" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Fasilitas Sekolah</h1>
                <p>Fasilitas lengkap untuk menunjang pembelajaran</p>
            </div>

            <div class="facilities-grid">
                <div class="facility-card">
                    <div class="facility-image">
                        <img src="lab  komputer.jpg" alt="Lab Komputer" loading="lazy">
                        <div class="overlay">Lab Komputer</div>
                    </div>
                    <h3>Lab Komputer</h3>
                    <p>Dilengkapi dengan 40 unit komputer modern dan koneksi internet cepat</p>
                </div>
                <div class="facility-card">
                    <div class="facility-image">
                        <img src="lab kimia.jpg" alt="Lab Kimia" loading="lazy">
                        <div class="overlay">Lab KIMIA</div>
                    </div>
                    <h3>Lab Kimia</h3>
                    <p>Laboratorium Fisika, Kimia, dan Biologi dengan peralatan lengkap</p>
                </div>
                <div class="facility-card">
                    <div class="facility-image">
                        <img src="perpustakaan.jpg" alt="Perpustakaan" loading="lazy">
                        <div class="overlay">Perpustakaan</div>
                    </div>
                    <h3>Perpustakaan</h3>
                    <p>Koleksi buku lebih dari 10.000 judul dan ruang baca nyaman</p>
                </div>
                <div class="facility-card">
                    <div class="facility-image">
                        <img src="lapang.jpg" alt="Lapangan Olahraga" loading="lazy">
                        <div class="overlay">Lapangan Olahraga</div>
                    </div>
                    <h3>Lapangan Olahraga</h3>
                    <p>Lapangan basket, voli, dan sepak bola standar nasional</p>
                </div>
                <div class="facility-card">
                    <div class="facility-image">
                        <img src="mesjid.jpg" alt="Mesjid" loading="lazy">
                        <div class="overlay">Mesjid</div>
                    </div>
                    <h3>Mesjid</h3>
                    <p>Tempat ibadah yang bersih, luas dan nyaman</p>
                </div>
                <div class="facility-card">
                    <div class="facility-image">
                        <img src="kantin.jpg" alt="Kantin" loading="lazy">
                        <div class="overlay">Kantin</div>
                    </div>
                    <h3>Kantin</h3>
                    <p>Kantin bersih dengan menu sehat dan bergizi</p>
                </div>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
            <p>Membentuk Generasi Unggul dan Berakhlak Mulia</p>
        </footer>
    </div>

    <!-- Halaman Program -->
    <div id="program" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Program Unggulan</h1>
                <p>Program-program yang membanggakan dari SMKN 4 GARUT</p>
            </div>

            <div class="programs-grid">
                <div class="program-card">
                    <div class="program-image"><img src="multimedia.jpg" alt="Multimedia" loading="lazy"></div>
                    <h3>Multimedia</h3>
                    <p>
                        Program Multimedia mengajarkan produksi konten digital: pengolahan gambar,
                        fotografi, penyuntingan video, animasi dasar, serta penggunaan perangkat lunak
                        multimedia untuk menghasilkan karya kreatif dan portofolio profesional.
                    </p>
                </div>

                <div class="program-card">
                    <div class="program-image"><img src="dkv.jpg"Desain Komunikasi Visual" loading="lazy"></div>
                    <h3>Desain Komunikasi Visual (DKV)</h3>
                    <p>
                        DKV fokus pada prinsip desain, tipografi, branding, dan komunikasi visual.
                        Siswa belajar merancang identitas merek, poster, materi promosi, dan UX dasar
                        untuk menyiapkan karier di agensi desain dan industri kreatif.
                    </p>
                </div>

                <div class="program-card">
                    <div class="program-image"><img src="otomotiff.jpg" alt="Teknik Otomotif" loading="lazy"></div>
                    <h3>Teknik Otomotif</h3>
                    <p>
                        Teknik Otomotif memberikan keterampilan perawatan, diagnosis, dan perbaikan
                        kendaraan bermotor. Kurikulum mencakup mesin, sistem bahan bakar, kelistrikan,
                        dan praktik bengkel untuk kesiapan kerja di dunia otomotif.
                    </p>
                </div>

                <div class="program-card">
                    <div class="program-image"><img src="kimia.jpg" alt="Kimia Analis" loading="lazy"></div>
                    <h3>Kimia Analis</h3>
                    <p>
                        Program Kimia Analis mengajarkan teknik pengujian laboratorium, analisis bahan,
                        pengambilan sampel, dan penggunaan instrumen analitik. Lulusan siap bekerja di
                        laboratorium industri, makanan, dan lingkungan.
                    </p>
                </div>

                <div class="program-card">
                    <div class="program-image"><img src="peternakan.jpg" alt="Peternakan" loading="lazy"></div>
                    <h3>Peternakan</h3>
                    <p>
                        Peternakan memfokuskan pada pemeliharaan, perbaikan genetik, pakan, dan kesehatan
                        ternak. Siswa belajar teknik budidaya unggas, sapi/perah, manajemen kandang, dan
                        pemasaran hasil ternak.
                    </p>
                </div>

                <div class="program-card">
                    <div class="program-image"><img src="kehutanan.jpg" alt="Kehutanan" loading="lazy"></div>
                    <h3>Kehutanan</h3>
                    <p>
                        Program Kehutanan membekali siswa dengan pengetahuan pengelolaan hutan, konservasi,
                        teknik reboisasi, dan pemanfaatan sumber daya alam secara berkelanjutan untuk
                        mendukung pelestarian lingkungan dan ekonomi lokal.
                    </p>
                </div>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
            <p>Membentuk Generasi Unggul dan Berakhlak Mulia</p>
        </footer>
    </div>

    <!-- Halaman Absensi -->
    <div id="absensi" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Absensi Siswa</h1>
                <p>Sistem absensi online SMKN 4 GARUT</p>
            </div>

            <div class="absensi-form">
                <h2 style="text-align: center; margin-bottom: 2rem;">Form Absensi</h2>
                <form id="absensiForm" onsubmit="submitAbsensi(event)">
                    <div class="form-group">
                        <label>Nama Lengkap:</label>
                        <input type="text" id="namaAbsensi" required placeholder="Masukkan nama lengkap">
                    </div>
                    <div class="form-group">
                        <label>Kelas:</label>
                        <select id="kelasAbsensi" required>
                            <option value="">Pilih Kelas</option>
                            <option value="X MM 1">X MM 1</option>
                            <option value="X MM 2">X MM 2</option>
                            <option value="X TKR 1">X TKR 1</option>
                            <option value="X TKR 2">X TKR 2</option>
                            <option value="XI MM 1">XI MM 1</option>
                            <option value="XI MM 2">XI MM 2</option>
                            <option value="XI TKR 1">XI TKR 1</option>
                            <option value="XI TKR 2">XI TKR 2</option>
                            <option value="XII MM 1">XII MM 1</option>
                            <option value="XII MM 2">XII MM 2</option>
                            <option value="XII TKR 1">XII TKR 1</option>
                            <option value="XII TKR 2">XII TKR 2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tanggal:</label>
                        <input type="date" id="tanggalAbsensi" required>
                    </div>
                    <div class="form-group">
                        <label>Status Kehadiran:</label>
                        <select id="statusAbsensi" required>
                            <option value="">Pilih Status</option>
                            <option value="Hadir">Hadir</option>
                            <option value="Izin">Izin</option>
                            <option value="Sakit">Sakit</option>
                            <option value="Alpha">Alpha</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Keterangan (opsional):</label>
                        <input type="text" id="keteranganAbsensi" placeholder="Keterangan tambahan jika ada">
                    </div>
                    <button type="submit" class="submit-btn">‚úÖ Kirim Absensi</button>
                </form>
            </div>

            <div class="absensi-list">
                <h2>Daftar Absensi Hari Ini</h2>
                <div id="absensiListContainer"></div>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
            <p>Membentuk Generasi Unggul dan Berakhlak Mulia</p>
        </footer>
    </div>

    <!-- Halaman Auth (Login & Registrasi) -->
    <div id="auth" class="page">
        <div class="container" style="max-width:1000px; display:grid; grid-template-columns:1fr 1fr; gap:2rem; align-items:start;">
            <div class="auth-panel">
                <h2 style="text-align:center; color:var(--primary);">Masuk</h2>
                <form id="loginForm" onsubmit="loginUser(event)">
                    <div class="form-group">
                        <label>Username / Email:</label>
                        <input type="text" id="loginUsername" required placeholder="Masukkan username atau email">
                    </div>
                    <div class="form-group">
                        <label>Password:</label>
                        <input type="password" id="loginPassword" required placeholder="Masukkan password">
                    </div>
                    <button type="submit" class="submit-btn">Masuk</button>
                </form>
            </div>

            <div class="auth-panel">
                <h2 style="text-align:center; color:var(--primary);">Daftar</h2>
                <form id="registerForm" onsubmit="registerUser(event)">
                    <div class="form-group">
                        <label>Username / Email:</label>
                        <input type="text" id="regUsername" required placeholder="Pilih username atau email">
                    </div>
                    <div class="form-group">
                        <label>Password:</label>
                        <input type="password" id="regPassword" required placeholder="Buat password">
                    </div>
                    <div class="form-group">
                        <label>Konfirmasi Password:</label>
                        <input type="password" id="regPassword2" required placeholder="Konfirmasi password">
                    </div>
                    <button type="submit" class="submit-btn">Buat Akun</button>
                    <p style="margin-top:1rem; color:#666; font-size:0.9rem;">Catatan: akun disimpan di browser (localStorage). Jangan gunakan password sensitif.</p>
                </form>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
        </footer>
    </div>

    <!-- Halaman Profil Pembuat -->
    <div id="pembuat" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Profil Pembuat</h1>
                <p>Informasi tentang pembuat website ini</p>
            </div>

            <div class="pembuat-grid">
                <!-- Profile 1 -->
                <div class="profile-card">
                    <div class="profile-avatar">
                        <img src="rendi.jpg" loading="lazy">
                    </div>
                    <div class="profile-info">
                        <h3>Rendy Resmana</h3>
                        <p><strong>NIM:</strong> 24872055004</p>
                        <p><strong>Peran:</strong> Pembuat</p>
                    </div>
                </div>

                <!-- Profile 2 -->
                <div class="profile-card">
                    <div class="profile-avatar">
                        <img src="budiman.jpg" alt="Foto Budiman">
                    </div>
                    <div class="profile-info">
                        <h3>Budiman</h3>
                        <p><strong>NIM:</strong> 24872053001</p>
                        <p><strong>Peran:</strong> Pembuat</p>
                    </div>
                </div>

                <!-- Profile 3 -->
                <div class="profile-card">
                    <div class="profile-avatar">
                        <img src="erna.jpg" alt="Foto Erna">
                    </div>
                    <div class="profile-info">
                        <h3>Erna Sri H</h3>
                        <p><strong>NIM:</strong> 24872052004</p>
                        <p><strong>Peran:</strong> Pembuat</p>
                    </div>
                </div>

                <!-- Profile 4 -->
                <div class="profile-card">
                    <div class="profile-avatar">
                        <img src="merlyn.jpg" alt="Foto Merlyn">
                    </div>
                    <div class="profile-info">
                        <h3>Merlyn Maretha</h3>
                        <p><strong>NIM:</strong> 24872052004</p>
                        <p><strong>Peran:</strong> Pembuat</p>
                    </div>
                </div>

                <!-- Profile 5 -->
                <div class="profile-card">
                    <div class="profile-avatar">
                        <img src="azka.jpg" alt="Foto Azka">
                    </div>
                    <div class="profile-info">
                        <h3>Azka Zakarya</h3>
                        <p><strong>NIM:</strong> 24872053032</p>
                        <p><strong>Peran:</strong> Pembuat</p>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
            <p>Membentuk Generasi Unggul dan Berakhlak Mulia</p>
        </footer>
    </div>

    <!-- Halaman Kontak -->
    <div id="kontak" class="page contact">
        <div class="container">
            <div class="page-header">
                <h1>Hubungi Kami</h1>
                <p>Kami siap melayani pertanyaan dan informasi Anda</p>
            </div>

            <div class="contact-info">
                <div class="contact-card" style="background:#fff; color:#133d12; border:1px solid #e0e0e0;">
                    <div class="contact-icon">üìç</div>
                    <h3>Alamat</h3>
                    <p style="font-size:1.1rem; color:#133d12;">Jln. Raya Karangpawitan Garut<br>Garut, Jawa Barat<br>Indonesia</p>
                </div>
                <div class="contact-card" style="background:#fff; color:#133d12; border:1px solid #e0e0e0;">
                    <div class="contact-icon">üìû</div>
                    <h3>Telepon</h3>
                    <p style="font-size:1.1rem; color:#133d12;">
                        <strong>Kantor:</strong> (0262) 444305<br>
                        <strong>PPDB:</strong> (0262) 529440<br>
                        <strong>Fax:</strong> (0262) 6772844
                    </p>
                </div>
                <div class="contact-card" style="background:#fff; color:#133d12; border:1px solid #e0e0e0;">
                    <div class="contact-icon">‚úâÔ∏è</div>
                    <h3>Email</h3>
                    <p style="font-size:1.1rem; color:#133d12;">
                        <strong>Umum:</strong> info@smkn4garut.sch.id<br>
                        <strong>PPDB:</strong> ppdb@smkn4garut.sch.id<br>
                        <strong>Kesiswaan:</strong> siswa@smkn4garut.sch.id
                    </p>
                </div>
            </div>

            <div style="margin-top: 4rem;">
                <h2>Jam Operasional</h2>
                <div class="contact-card" style="max-width: 600px; margin: 2rem auto; background:#fff; color:#133d12; border:1px solid #e0e0e0;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem; font-size:1.3rem;">‚è∞ Waktu Layanan</h3>
                    <p style="text-align: left; line-height: 2; color:#133d12; font-size:1.1rem;">
                        <strong>Senin - Jumat:</strong> 07:00 - 16:00 WIB<br>
                        <strong>Sabtu:</strong> 07:00 - 13:00 WIB<br>
                        <strong>Minggu & Libur:</strong> Tutup
                    </p>
                </div>
            </div>

            <div style="margin-top: 4rem;">
                <h2>Lokasi Kami</h2>
                <div 
                    style="
                        background: linear-gradient(135deg, #e9fbe7 0%, #c6f7d4 100%);
                        padding: 3rem;
                        border-radius: 24px;
                        text-align: center;
                        margin-top: 2rem;
                        box-shadow: 0 8px 32px rgba(46,164,90,0.13);
                        border: 2px solid #3bc96b;
                        position: relative;
                    "
                >
                    <div style="font-size: 5rem; margin-bottom: 1rem; color: var(--primary); text-shadow: 0 2px 12px rgba(46,164,90,0.15);">
                        üìç
                    </div>
                    <h3 style="color: var(--primary-dark); font-size: 1.7rem; margin-bottom: 1rem; font-weight: bold;">
                        SMKN 4 Garut - Lokasi Sekolah
                    </h3>
                    <p style="font-size: 1.15rem; color: #133d12; margin-bottom: 2rem;">
                        Lokasi strategis di Garut dengan akses mudah dari berbagai wilayah. Temukan kami di Jln. Raya Karangpawitan, Garut, Jawa Barat.
                    </p>
                    <div style="margin-top:2rem;">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3958.360680730883!2d107.95985057357004!3d-7.199625370671445!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e65888dd1f55367%3A0x1fa5920f48caef31!2sSMKN%204%20Garut!5e0!3m2!1sid!2sid!4v1763712199877!5m2!1sid!2sid" width="100%" height="350" style="border:0;border-radius:14px;box-shadow:0 4px 18px rgba(46,164,90,0.12);" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        <p style="margin-top:1rem; color:#133d12; font-size:1rem;">
                            <span style="background:rgba(46,164,90,0.08); padding:0.5rem 1rem; border-radius:8px; font-weight:500;">
                                Tanda marker menunjukkan lokasi SMKN 4 Garut di Jln. Raya Karangpawitan, Garut, Jawa Barat.
                            </span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <p>&copy; 2024 SMKN 4 GARUT. All Rights Reserved.</p>
            <p>Membentuk Generasi Unggul dan Berakhlak Mulia</p>
        </footer>
    </div>

    <!-- Halaman Materi -->
    <div id="materi" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Materi Pembelajaran</h1>
                <p>Kumpulan ringkasan materi dan video pembelajaran untuk mendukung proses belajar.</p>
            </div>

            <div class="materials">
                <div>
                    <ul class="materials-list">
                        <li class="material-item">
                            <h3>1. Membentuk Karakter dan Identitas Nasional</h3>
                            <p>Pembelajaran PPKn berperan vital dalam membentuk karakter siswa sebagai warga negara yang baik, memiliki rasa nasionalisme, dan memahami nilai-nilai Pancasila sebagai dasar negara. Melalui PPKn, siswa belajar tentang hak dan kewajiban sebagai warga negara Indonesia.</p>
                        </li>

                        <li class="material-item">
                            <h3>2. Mengembangkan Kemampuan Berpikir Kritis dan Demokratis</h3>
                            <p>PPKn mengajarkan siswa untuk berpikir kritis terhadap isu-isu sosial, politik, dan hukum di masyarakat. Siswa juga dilatih untuk menghargai perbedaan pendapat, bermusyawarah, dan memahami prinsip-prinsip demokrasi dalam kehidupan berbangsa dan bernegara.</p>
                        </li>

                        <li class="material-item">
                            <h3>3. Memahami Konstitusi dan Sistem Hukum Indonesia</h3>
                            <p>Melalui pembelajaran PPKn, siswa memahami UUD 1945 sebagai konstitusi negara, sistem pemerintahan Indonesia, serta peraturan perundang-undangan yang berlaku. Hal ini penting agar siswa menjadi warga negara yang taat hukum dan memahami mekanisme berbangsa dan bernegara.</p>
                        </li>
                    </ul>
                </div>

                <div>
                    <div class="material-item">
                        <h3>Video: pembelajaran PPKn (contoh)</h3>
                        <div class="video-wrap">
                            <div class="media-thumb" data-embed="c:\Users\ELSA LUPIANA\OneDrive\Music\Desktop\tekpen\video pembelajaran.mp4" style="background-image:url('https://i.ytimg.com/vi/BCMlDbsoK-8/hqdefault.jpg')" aria-label="Putar video">
                                <button class="play-btn" aria-hidden="true">‚ñ∂</button>
                            </div>
                        </div>
                        <p style="margin-top:.5rem; color:#555; font-size:.95rem;">Jika video tidak dapat diputar, <a href="https://youtu.be/BCMlDbsoK-8?si=hcj_0QK_TwO5Y86w" target="_blank" rel="noopener">buka di YouTube</a>.</p>
                    </div>

                    <div class="material-item" style="margin-top:1rem;">
                        <h3>Quiz Interaktif: Materi Pembelajaran</h3>
                        <div class="video-wrap">
                            <div class="media-thumb" data-embed="https://wayground.com/embed/quiz/6900c948b896e1fab001e6be" style="background-image:linear-gradient(180deg, rgba(46,164,90,0.2), rgba(31,143,63,0.2)); display:flex; align-items:center; justify-content:center;">
                                <button class="play-btn" aria-hidden="true">‚ñ∂</button>
                            </div>
                        </div>
                        <p style="margin-top:.5rem; color:#555; font-size:.95rem;">Gunakan kuis interaktif ini untuk menguji pemahaman setelah menonton materi.</p>
                    </div>

                    <div class="material-item" style="margin-top:1rem;">
                        <h3>Latihan & Tugas</h3>
                        <p>Silakan gunakan modul dan tugas kecil berikut untuk melatih pemahaman:</p>
                        <ul>
                            <li>Sebutkan 3 nilai yang terkandung dalam Pancasila yang harus diamalkan oleh siswa dalam kehidupan sehari-hari!</li>
                            <li>elaskan pentingnya musyawarah mufakat dalam menyelesaikan masalah di lingkungan sekolah! Berikan contohnya!</li>
                            <li>Mengapa UUD 1945 disebut sebagai konstitusi negara Indonesia? Sebutkan minimal 2 fungsinya!)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // KONFIGURASI BACKGROUND GAMBAR PER HALAMAN
        // Letakkan file lokal di folder images/ atau gunakan URL eksternal
        // ============================================
        const backgroundImages = {
            beranda: 'https://smkn4garut.sch.id/media_library/posts/medium/6f41dd0a863512ff3d82845ee2d19672.jpeg',
            tentang: 'https://smkn4garut.sch.id/media_library/posts/medium/6f41dd0a863512ff3d82845ee2d19672.jpeg',
            fasilitas: 'https://images.unsplash.com/photo-1509062522246-3755977927d7?w=1920&q=80',
            program: 'https://images.unsplash.com/photo-1427504494785-3a9ca7044f45?w=1920&q=80',
            absensi: 'https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=1920&q=80',
            pembuat: 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=1920&q=80',
            kontak: '',
            materi: 'https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?w=1920&q=80',
            auth: 'https://images.unsplash.com/photo-1526378725091-694c6d9cb9f7?w=1920&q=80'
        };

        // Gunakan background beranda juga untuk halaman 'tentang'
        backgroundImages.tentang = backgroundImages.beranda;

        // Fungsi untuk set background: akan mencoba set .hero jika ada, jika tidak set pada .page
        function setPageBackground(pageId) {
            const page = document.getElementById(pageId);
            if (!page || !backgroundImages[pageId]) return;
            const heroSection = page.querySelector('.hero');
            const url = backgroundImages[pageId];
            if (heroSection) {
                heroSection.style.backgroundImage = `url(${url})`;
            } else {
                page.style.backgroundImage = `url(${url})`;
            }
        }

        // Media modal: buka dan tutup media (video/quiz) tanpa pergi ke halaman lain
        const mediaModal = document.getElementById('mediaModal');
        const mediaHolder = document.getElementById('mediaHolder');

        function openMedia(embedUrl) {
            if (!embedUrl) return;
            // allow autoplay for YouTube embeds so users can play without leaving the page
            let src = embedUrl;
            try {
                const u = new URL(embedUrl);
                // If it's a YouTube embed, ensure autoplay=1 is present so it starts playing in the modal
                if (u.hostname.includes('youtube.com') || u.hostname.includes('youtu.be')) {
                    if (!u.searchParams.has('autoplay')) u.searchParams.set('autoplay', '1');
                    src = u.toString();
                }
            } catch (err) {
                // fallback: if URL parsing fails, append autoplay if not already present
                if (embedUrl.indexOf('autoplay=') === -1) {
                    src = embedUrl + (embedUrl.includes('?') ? '&autoplay=1' : '?autoplay=1');
                }
            }

            // create iframe
            const iframe = document.createElement('iframe');
            iframe.setAttribute('src', src);
            iframe.setAttribute('loading', 'lazy');
            iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
            iframe.setAttribute('allowfullscreen', '');
            iframe.style.position = 'absolute';
            iframe.style.top = '0';
            iframe.style.left = '0';
            iframe.style.width = '100%';
            iframe.style.height = '100%';

            // clear and insert
            mediaHolder.innerHTML = '';
            mediaHolder.appendChild(iframe);

            mediaModal.classList.add('active');
            mediaModal.setAttribute('aria-hidden', 'false');
        }

        function closeMedia() {
            mediaModal.classList.remove('active');
            mediaModal.setAttribute('aria-hidden', 'true');
            // stop playback by removing iframe
            mediaHolder.innerHTML = '';
        }

        // attach listeners to thumbnails
        document.addEventListener('click', function(e) {
            const thumb = e.target.closest('.media-thumb');
            if (thumb) {
                const url = thumb.getAttribute('data-embed');
                if (url) openMedia(url);
            }

            if (e.target.closest('.modal-close') || (e.target.id === 'mediaModal')) {
                closeMedia();
            }
        });

        // close on ESC
        document.addEventListener('keydown', function(e) { if (e.key === 'Escape') closeMedia(); });

        // --- Storage keys ---
        const USERS_KEY = 'tekpend_users';
        const AUTH_KEY = 'tekpend_loggedInUser';
        const ABSENSI_KEY = 'tekpend_absensi';

        // --- AUTH sederhana (localStorage) ---
        let intendedPage = null;

        function loadUsers() {
            try { return JSON.parse(localStorage.getItem(USERS_KEY) || '[]'); }
            catch { return []; }
        }
        function saveUsers(users) { localStorage.setItem(USERS_KEY, JSON.stringify(users)); }

        function registerUser(e) {
            e.preventDefault();
            const username = document.getElementById('regUsername').value.trim();
            const password = document.getElementById('regPassword').value;
            const password2 = document.getElementById('regPassword2').value;
            if (!username || !password) { alert('Isi semua field'); return; }
            if (password !== password2) { alert('Password tidak cocok'); return; }
            const users = loadUsers();
            if (users.find(u => u.username.toLowerCase() === username.toLowerCase())) {
                alert('Username sudah terdaftar'); return;
            }
            users.push({ username, password }); // plaintext untuk demo (tidak aman produksi)
            saveUsers(users);
            localStorage.setItem(AUTH_KEY, JSON.stringify({ username }));
            updateAuthUI();
            alert('Akun dibuat dan Anda telah masuk');
            if (intendedPage) { showPage(intendedPage); intendedPage = null; } else { showPage('absensi'); }
        }

        function loginUser(e) {
            e.preventDefault();
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            const users = loadUsers();
            const user = users.find(u => u.username.toLowerCase() === username.toLowerCase() && u.password === password);
            if (!user) { alert('Username atau password salah'); return; }
            localStorage.setItem(AUTH_KEY, JSON.stringify({ username: user.username }));
            updateAuthUI();
            alert('Berhasil masuk');
            if (intendedPage) { showPage(intendedPage); intendedPage = null; } else { showPage('absensi'); }
        }

        function logoutUser() {
            localStorage.removeItem(AUTH_KEY);
            updateAuthUI();
            alert('Anda telah keluar');
            showPage('beranda');
        }

        function getCurrentUser() {
            try { return JSON.parse(localStorage.getItem(AUTH_KEY)); }
            catch { return null; }
        }

        function updateAuthUI() {
            const authArea = document.getElementById('authArea');
            const user = getCurrentUser();
            if (!authArea) return;
            if (user && user.username) {
                authArea.innerHTML = `<span style="font-weight:bold;">${user.username}</span><button class="auth-btn" onclick="logoutUser()">Keluar</button>`;
            } else {
                authArea.innerHTML = `<button class="auth-btn" onclick="showPage('auth')">Masuk / Daftar</button>`;
            }
        }

        // --- Absensi storage ---
        let absensiData = [];
        function loadAbsensi() {
            try { return JSON.parse(localStorage.getItem(ABSENSI_KEY) || '[]'); }
            catch { return []; }
        }
        function saveAbsensi() { localStorage.setItem(ABSENSI_KEY, JSON.stringify(absensiData)); }

        // Fungsi navigasi halaman (melindungi absensi)
        function showPage(pageId) {
            // jika halaman absensi, cek autentikasi
            if (pageId === 'absensi') {
                const user = getCurrentUser();
                if (!user) {
                    intendedPage = 'absensi';
                    showPage('auth');
                    alert('Silakan masuk atau buat akun terlebih dahulu untuk mengisi absensi.');
                    return;
                }
            }

            // Tampilkan halaman yang dipilih
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            const selectedPage = document.getElementById(pageId);
            if (selectedPage) {
                selectedPage.classList.add('active');
                window.scrollTo(0,0);
            }

            // Highlight menu navigasi aktif
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => link.classList.remove('nav-active'));
            navLinks.forEach(link => {
                // Ambil nama page dari onclick="showPage('...')"
                const onclick = link.getAttribute('onclick');
                if (onclick && onclick.includes("showPage('" + pageId + "')")) {
                    link.classList.add('nav-active');
                }
            });
        }

        // Fungsi submit absensi (harus login)
        function submitAbsensi(e) {
            e.preventDefault();
            const currentUser = getCurrentUser();
            if (!currentUser) {
                alert('Anda harus masuk sebelum mengirim absensi.');
                intendedPage = 'absensi';
                showPage('auth');
                return;
            }

            const nama = document.getElementById('namaAbsensi').value.trim();
            const kelas = document.getElementById('kelasAbsensi').value;
            const tanggal = document.getElementById('tanggalAbsensi').value;
            const status = document.getElementById('statusAbsensi').value;
            const keterangan = document.getElementById('keteranganAbsensi').value.trim();

            if (!nama || !kelas || !tanggal || !status) { alert('Isi semua field yang wajib'); return; }

            const absensi = {
                nama,
                kelas,
                tanggal,
                status,
                keterangan,
                waktu: new Date().toLocaleTimeString('id-ID'),
                user: currentUser.username
            };

            absensiData.push(absensi);
            saveAbsensi();
            displayAbsensi();
            document.getElementById('absensiForm').reset();
            // isi tanggal kembali ke hari ini setelah reset
            document.getElementById('tanggalAbsensi').value = new Date().toISOString().split('T')[0];
            alert('Absensi berhasil dikirim!');
        }

        // Fungsi tampilkan absensi (tampilkan semua data)
        function displayAbsensi() {
            const container = document.getElementById('absensiListContainer');
            if (!absensiData || absensiData.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">Belum ada data absensi.</p>';
                return;
            }
            let html = '';
            absensiData.slice().reverse().forEach((data, index) => {
                const statusColor = data.status === 'Hadir' ? '#2ea45a' : 
                                   data.status === 'Izin' ? '#7fe08f' :
                                   data.status === 'Sakit' ? '#a8f0c8' : '#3bc96b';
                html += `
                    <div class="absensi-item">
                        <strong style="color: ${statusColor};">${data.status}</strong> -
                        <strong>${data.nama}</strong> (${data.kelas})<br>
                        üìÖ ${data.tanggal} | ‚è∞ ${data.waktu} | üë§ ${data.user}
                        ${data.keterangan ? '<br>üìù ' + data.keterangan : ''}
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        // Inisialisasi saat halaman dimuat
        window.addEventListener('load', () => {
            // Set background untuk semua halaman
            Object.keys(backgroundImages).forEach(pageId => setPageBackground(pageId));

            // Load absensi dari storage
            absensiData = loadAbsensi();

            // Set tanggal hari ini sebagai default jika elemen ada
            const tanggalEl = document.getElementById('tanggalAbsensi');
            if (tanggalEl) tanggalEl.value = new Date().toISOString().split('T')[0];

            // Update UI auth jika sudah login
            updateAuthUI();

            // Tampilkan absensi hari ini
            displayAbsensi();
        });
    </script>
</body>
</html>
